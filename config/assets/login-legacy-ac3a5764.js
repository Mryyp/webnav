System.register(["./utils-legacy-dc7aece1.js","./index-legacy-df63af3b.js","./index-legacy-a99c9020.js","./request-legacy-92f25d7d.js","./_plugin-vue_export-helper-legacy-81237f8a.js"],(function(e,t){"use strict";var s,a,r,l,u,n,o,c,i,d,g,v,y;return{setters:[e=>{s=e.i},e=>{a=e.i},e=>{r=e.d,l=e.x,u=e.i,n=e.o,o=e.c,c=e.f,i=e.y,d=e.t},e=>{g=e.s,v=e.a},e=>{y=e._}],execute:function(){const t={class:"box"},p={key:1,class:"second"};e("S",y(r({__name:"shortMessage",props:{mobile:{},type:{}},setup(e){const r=e,{mobile:v,type:y}=l(r),h=u(!0),m=u(0),f=async()=>{if(v.value)if(s(v.value))try{0===(await a.sendCode({mobile:v.value,type:y.value})).code&&(h.value=!1,(()=>{m.value=60;const e=setInterval((()=>{m.value-=1,m.value<=0&&(clearInterval(e),h.value=!0)}),1e3)})())}catch(e){g("请求短信验证码失败，请重试")}else g("手机号格式错误");else g("请输入手机号")};return(e,s)=>(n(),o("div",t,[c(h)?(n(),o("span",{key:0,class:"code",onClick:f},"获取验证码")):i("",!0),c(m)>0?(n(),o("span",p,d(c(m))+" 秒",1)):i("",!0)]))}}),[["__scopeId","data-v-fb10e520"]])),e("l",new class{login(e){return v.request({url:"/auth/login",method:"POST",data:e})}login2(e){return v.request({url:"/auth/login2",method:"POST",data:e})}resetPassword(e){return v.request({url:"/auth/resetPassword",method:"POST",data:e})}regist(e){return v.request({url:"/auth/regist",method:"POST",data:e})}})}}}));
