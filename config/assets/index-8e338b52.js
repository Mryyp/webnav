import{z as K,d as x,A as O,b as i,B as Q,C as $,D as W,E as X,i as k,x as Y,j as b,w as C,f as n,G as N,o as l,e as t,c as w,p as M,h as F,s as T,t as P,H as Z,u as ee,r as te,a as oe,F as ae,I as ne,y as I,l as se,J as ie,K as le,g as ce}from"./index-5ee6b2fa.js";import{_ as z,I as re,N as de}from"./_plugin-vue_export-helper-a2c4d23b.js";import{D as ue}from"./dialog-1cd8f37f.js";import"./index-6cabca22.js";import{F as _e}from"./index-f26ecc53.js";import{i as D}from"./index-2a44163e.js";import{D as me}from"./index-9f85b7f2.js";import{s as U,b as R,c as pe,d as he}from"./request-0c3efa69.js";import{I as q}from"./index-7dddaeba.js";import{L as fe}from"./use-id-28ca1a2a.js";import{B as ve}from"./index-a68753f1.js";import"./use-route-d0228638.js";import"./index-5786f0c1.js";const[ge,B]=K("switch"),we={size:Q,loading:Boolean,disabled:Boolean,modelValue:$,activeColor:String,inactiveColor:String,activeValue:{type:$,default:!0},inactiveValue:{type:$,default:!1}};var ye=x({name:ge,props:we,emits:["change","update:modelValue"],setup(e,{emit:c,slots:s}){const r=()=>e.modelValue===e.activeValue,o=()=>{if(!e.disabled&&!e.loading){const a=r()?e.inactiveValue:e.activeValue;c("update:modelValue",a),c("change",a)}},m=()=>{if(e.loading){const a=r()?e.activeColor:e.inactiveColor;return i(fe,{class:B("loading"),color:a},null)}if(s.node)return s.node()};return O(()=>e.modelValue),()=>{var a;const{size:d,loading:f,disabled:v,activeColor:p,inactiveColor:u}=e,g=r(),_={fontSize:W(d),backgroundColor:g?p:u};return i("div",{role:"switch",class:B({on:g,loading:f,disabled:v}),style:_,tabindex:v?void 0:0,"aria-checked":g,onClick:o},[i("div",{class:B("node")},[m()]),(a=s.background)==null?void 0:a.call(s)])}}});const ke=X(ye);const A=e=>(M("data-v-77037add"),e=e(),F(),e),Ce={class:"main"},Ve=A(()=>t("div",{class:"title"}," （支持20% ～ 80%） ",-1)),Ie={class:"main_main"},be=A(()=>t("span",{style:{color:"#273545"}},"%",-1)),xe={class:"footer"},Se={key:1},$e=x({__name:"profit",props:{profit:{}},emits:["doSth"],setup(e,{expose:c,emit:s}){const r=e,o=k(!1),{profit:m}=Y(r),a=k(),d=p=>{o.value=!!p,a.value=m.value},f=k(!0),v=async()=>{if(a.value<20&&a.value>80){U("报价整体毛利率需 >= 20 并且 <= 80");return}f.value=!1;const p=await D.editProfit({profit:a.value});f.value=!0,p.code===0&&(R("修改成功"),d(!1),s("doSth"))};return c({display:d}),(p,u)=>{const g=_e,_=me;return l(),b(_,{show:n(o),"onUpdate:show":u[2]||(u[2]=h=>N(o)?o.value=h:null),title:"修改报价整体毛利",class:"dialog","show-confirm-button":!1,width:"3.25rem"},{default:C(()=>[t("div",Ce,[Ve,t("div",Ie,[i(g,{modelValue:n(a),"onUpdate:modelValue":u[0]||(u[0]=h=>N(a)?a.value=h:null),modelModifiers:{trim:!0},required:"",maxlength:"10",class:"input",type:"digit",label:"报价整体毛利设置",placeholder:"请输入","input-align":"right"},{button:C(()=>[be]),_:1},8,["modelValue"])])]),t("div",xe,[t("div",{onClick:u[1]||(u[1]=h=>d(!1))}," 取消 "),n(f)?(l(),w("div",{key:0,onClick:v}," 修改 ")):(l(),w("div",Se," 修改中... "))])]),_:1},8,["show"])}}});const Be=z($e,[["__scopeId","data-v-77037add"]]),Pe={class:"list"},De=x({__name:"menu-list",props:{icon:{},name:{}},setup(e){const{icon:c,name:s}=e,r=T();return(o,m)=>{const a=q,d=re;return l(),w("div",Pe,[t("div",null,[i(a,{width:"0.18rem",height:"0.18rem",src:n(r).getImage(c)},null,8,["src"]),t("span",null,P(s))]),t("div",null,[Z(o.$slots,"right",{},()=>[i(d,{name:"arrow",color:"#999999",size:"0.16rem"})],!0)])])}}});const ze=z(De,[["__scopeId","data-v-d52f8eaa"]]),L=e=>(M("data-v-3aef34f7"),e=e(),F(),e),Le={class:"box"},Ne={class:"header"},Me={class:"info"},Fe={class:"main"},Te={class:"navigation"},Ue=L(()=>t("span",null,"创建报价",-1)),Re=L(()=>t("li",null,"｜",-1)),qe=L(()=>t("span",null,"邀请奖励",-1)),Ae={class:"menu"},Ee=x({__name:"index",setup(e){const c=ee(),s=T(),r=te([{icon:"home/lista.png",name:"已报价项目",to:"record"},{icon:"home/listb.png",name:"产品采购",to:""},{icon:"home/listc.png",name:"邀请记录",to:"invite"},{icon:"home/listd.png",name:"升级或扩容",to:"upgrade"},{icon:"home/listf.png",name:"报价整体毛利",to:""},{icon:"home/listg.png",name:"成本明细显示",to:"",switch:!1},{icon:"home/liste.png",name:"咨询交流",to:""}]),o=k({}),m=async()=>{const _=await D.info();if(_.code===0){o.value=_.data,s.info_data=_.data;const h=r.find(S=>S.name==="成本明细显示");_.data.show_money===1?h.switch=!0:h.switch=!1}};m();const a=()=>{se.remove("quotation_token"),c.push({path:"/"})},d=k(),f=()=>{d.value.display(!0)},v=k(),p=()=>{v.value.display(!0)},u=()=>{o.value.level>1?c.push({path:"/add"}):o.value.last_create_num?c.push({path:"/add"}):U("剩余可创建项目数 0")},g=async()=>{pe({message:"修改中...",forbidClick:!0}),(await D.editShowMoney()).code===0&&(R("修改成功"),m(),he())};return(_,h)=>{const S=de,V=q,E=ke,j=oe("router-link"),G=ve;return l(),w("div",Le,[i(S,{class:"nav",title:"我的中心",fixed:"",placeholder:"","safe-area-inset-top":"",border:!1}),t("div",Ne,[t("div",Me,[i(V,{width:"0.29rem",height:"0.29rem",src:n(s).getImage("home/active.png")},null,8,["src"]),t("span",null,P(n(o).mobile),1),i(V,{width:"0.46rem",height:"0.16rem",src:n(s).getImage(`grade/${n(o).level}.png`)},null,8,["src"])])]),t("div",Fe,[t("ul",Te,[t("li",{onClick:u},[i(V,{width:"0.33rem",height:"0.35rem",src:n(s).getImage("home/add.png")},null,8,["src"]),Ue]),Re,t("li",{onClick:f},[i(V,{width:"0.33rem",height:"0.35rem",src:n(s).getImage("home/gift.png")},null,8,["src"]),qe])]),t("ul",Ae,[(l(!0),w(ae,null,ne(n(r),(y,H)=>(l(),w("li",{key:H},[i(j,{to:y.to},{default:C(()=>[i(ze,ie(le(y)),{right:C(()=>[["成本明细显示"].includes(y.name)?(l(),b(E,{key:0,modelValue:y.switch,"onUpdate:modelValue":J=>y.switch=J,size:"22px",onClick:g},null,8,["modelValue","onUpdate:modelValue"])):I("",!0),["报价整体毛利"].includes(y.name)?(l(),w("span",{key:1,class:"menuspan",onClick:p},P(n(o).profit)+"% 修改",1)):I("",!0)]),_:2},1040)]),_:2},1032,["to"])]))),128))]),i(G,{class:"button",round:"",type:"default",size:"large",onClick:a},{default:C(()=>[ce(" 退出登录 ")]),_:1})]),n(o).invite_code?(l(),b(ue,{key:0,ref_key:"childInvite",ref:d,"invite-code":n(o).invite_code,type:2},null,8,["invite-code"])):I("",!0),n(o).invite_code?(l(),b(Be,{key:1,ref_key:"childProfit",ref:v,profit:n(o).profit,onDoSth:m},null,8,["profit"])):I("",!0)])}}});const ot=z(Ee,[["__scopeId","data-v-3aef34f7"]]);export{ot as default};
