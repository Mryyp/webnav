System.register(["./index-legacy-a99c9020.js","./index-legacy-80e98bda.js","./_plugin-vue_export-helper-legacy-81237f8a.js"],(function(e,t){"use strict";var a,i,l,o,n,u,r,v,s,c,h,p,d,f,g,w,m,y,x,b,z,C,S,$,M,T,O,Y,E;return{setters:[e=>{a=e.z,i=e.Y,l=e.B,o=e.L,n=e.d,u=e.i,r=e.r,v=e.a1,s=e.R,c=e.m,h=e.a8,p=e.a9,d=e.ay,f=e.n,g=e.as,w=e.at,m=e.ad,y=e.N,x=e.b,b=e._,z=e.O,C=e.az,S=e.Q,$=e.V,M=e.E,T=e.a4},e=>{O=e.u,Y=e.a},e=>{E=e.o}],execute:function(){const[t,I]=a("swipe"),X={loop:i,width:l,height:l,vertical:Boolean,autoplay:o(0),duration:o(500),touchable:i,lazyRender:Boolean,initialSwipe:o(0),indicatorColor:String,showIndicators:i,stopPropagation:i},j=Symbol(t);var k=n({name:t,props:X,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const i=u(),l=u(),o=r({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let n=!1;const M=O(),{children:T,linkChildren:X}=v(j),k=s((()=>T.length)),B=s((()=>o[e.vertical?"height":"width"])),D=s((()=>e.vertical?M.deltaY.value:M.deltaX.value)),P=s((()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-B.value*k.value:0)),R=s((()=>B.value?Math.ceil(Math.abs(P.value)/B.value):k.value)),_=s((()=>k.value*B.value)),A=s((()=>(o.active+k.value)%k.value)),H=s((()=>{const t=e.vertical?"vertical":"horizontal";return M.direction.value===t})),L=s((()=>{const t={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${o.offset}px)`};if(B.value){const a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=`${_.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t})),N=(t,a=0)=>{let i=t*B.value;e.loop||(i=Math.min(i,-P.value));let l=a-i;return e.loop||(l=$(l,P.value,0)),l},Q=({pace:a=0,offset:i=0,emitChange:l})=>{if(k.value<=1)return;const{active:n}=o,u=(t=>{const{active:a}=o;return t?e.loop?$(a+t,-1,k.value):$(a+t,0,R.value):a})(a),r=N(u,i);if(e.loop){if(T[0]&&r!==P.value){const e=r<P.value;T[0].setOffset(e?_.value:0)}if(T[k.value-1]&&0!==r){const e=r>0;T[k.value-1].setOffset(e?-_.value:0)}}o.active=u,o.offset=r,l&&u!==n&&t("change",A.value)},V=()=>{o.swiping=!0,o.active<=-1?Q({pace:k.value}):o.active>=k.value&&Q({pace:-k.value})},W=()=>{V(),M.reset(),C((()=>{o.swiping=!1,Q({pace:1,emitChange:!0})}))};let q;const F=()=>clearTimeout(q),G=()=>{F(),+e.autoplay>0&&k.value>1&&(q=setTimeout((()=>{W(),G()}),+e.autoplay))},J=(t=+e.initialSwipe)=>{if(!i.value)return;const a=()=>{var a,l;if(!b(i)){const t={width:i.value.offsetWidth,height:i.value.offsetHeight};o.rect=t,o.width=+(null!=(a=e.width)?a:t.width),o.height=+(null!=(l=e.height)?l:t.height)}k.value&&-1===(t=Math.min(k.value-1,t))&&(t=k.value-1),o.active=t,o.swiping=!0,o.offset=N(t),T.forEach((e=>{e.setOffset(0)})),G()};b(i)?z().then(a):a()},K=()=>J(o.active);let U;const Z=t=>{!e.touchable||t.touches.length>1||(M.start(t),n=!1,U=Date.now(),F(),V())},ee=()=>{if(!e.touchable||!o.swiping)return;const a=Date.now()-U,i=D.value/a;if((Math.abs(i)>.25||Math.abs(D.value)>B.value/2)&&H.value){const t=e.vertical?M.offsetY.value:M.offsetX.value;let a=0;a=e.loop?t>0?D.value>0?-1:1:0:-Math[D.value>0?"ceil":"floor"](D.value/B.value),Q({pace:a,emitChange:!0})}else D.value&&Q({pace:0});n=!1,o.swiping=!1,t("dragEnd",{index:A.value}),G()},te=(t,a)=>{const i=a===A.value,l=i?{backgroundColor:e.indicatorColor}:void 0;return x("i",{style:l,class:I("indicator",{active:i})},null)};return Y({prev:()=>{V(),M.reset(),C((()=>{o.swiping=!1,Q({pace:-1,emitChange:!0})}))},next:W,state:o,resize:K,swipeTo:(t,a={})=>{V(),M.reset(),C((()=>{let i;i=e.loop&&t===k.value?0===o.active?0:t:t%k.value,a.immediate?C((()=>{o.swiping=!1})):o.swiping=!1,Q({pace:i-o.active,emitChange:!0})}))}}),X({size:B,props:e,count:k,activeIndicator:A}),c((()=>e.initialSwipe),(e=>J(+e))),c(k,(()=>J(o.active))),c((()=>e.autoplay),G),c([h,p,()=>e.width,()=>e.height],K),c(d(),(e=>{"visible"===e?G():F()})),f(J),g((()=>J(o.active))),E((()=>J(o.active))),w(F),m(F),y("touchmove",(a=>{e.touchable&&o.swiping&&(M.move(a),H.value)&&(!e.loop&&(0===o.active&&D.value>0||o.active===k.value-1&&D.value<0)||(S(a,e.stopPropagation),Q({offset:D.value}),n||(t("dragStart",{index:A.value}),n=!0)))}),{target:l}),()=>{var t;return x("div",{ref:i,class:I()},[x("div",{ref:l,style:L.value,class:I("track",{vertical:e.vertical}),onTouchstartPassive:Z,onTouchend:ee,onTouchcancel:ee},[null==(t=a.default)?void 0:t.call(a)]),a.indicator?a.indicator({active:A.value,total:k.value}):e.showIndicators&&k.value>1?x("div",{class:I("indicators",{vertical:e.vertical})},[Array(k.value).fill("").map(te)]):void 0])}}});e("a",M(k));const[B,D]=a("swipe-item");var P=n({name:B,setup(e,{slots:t}){let a;const i=r({offset:0,inited:!1,mounted:!1}),{parent:l,index:o}=T(j);if(!l)return;const n=s((()=>{const e={},{vertical:t}=l.props;return l.size.value&&(e[t?"height":"width"]=`${l.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e})),u=s((()=>{const{loop:e,lazyRender:t}=l.props;if(!t||a)return!0;if(!i.mounted)return!1;const n=l.activeIndicator.value,u=l.count.value-1,r=0===n&&e?u:n-1,v=n===u&&e?0:n+1;return a=o.value===n||o.value===r||o.value===v,a}));return f((()=>{z((()=>{i.mounted=!0}))})),Y({setOffset:e=>{i.offset=e}}),()=>{var e;return x("div",{class:D(),style:n.value},[u.value?null==(e=t.default)?void 0:e.call(t):null])}}});e("S",M(P))}}}));
