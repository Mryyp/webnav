System.register(["./index-legacy-a99c9020.js","./index-legacy-80e98bda.js","./use-id-legacy-6fdeb452.js"],(function(e,i){"use strict";var r,o,t,n,l,d,a,s,u,c,f,g,v,h,m,p,x,b,y;return{setters:[e=>{r=e.k,o=e.z,t=e.L,n=e.X,l=e.Y,d=e.d,a=e.i,s=e.M,u=e.m,c=e.Z,f=e.n,g=e.N,v=e.b,h=e.O,m=e.U,p=e._,x=e.E},e=>{b=e.a},e=>{y=e.L}],execute:function(){const i=Symbol(),[T,k,S]=o("list"),B={error:Boolean,offset:t(300),loading:Boolean,disabled:Boolean,finished:Boolean,errorText:String,direction:n("down"),loadingText:String,finishedText:String,immediateCheck:l};var j=d({name:T,props:B,emits:["load","update:error","update:loading"],setup(e,{emit:o,slots:t}){const n=a(e.loading),l=a(),d=a(),x=r(i,null),T=s(l),B=()=>{h((()=>{if(n.value||e.finished||e.disabled||e.error||!1===(null==x?void 0:x.value))return;const{direction:i}=e,r=+e.offset,t=m(T);if(!t.height||p(l))return;let a=!1;const s=m(d);a="up"===i?t.top-s.top<=r:s.bottom-t.bottom<=r,a&&(n.value=!0,o("update:loading",!0),o("load"))}))},j=()=>{if(e.finished){const i=t.finished?t.finished():e.finishedText;if(i)return v("div",{class:k("finished-text")},[i])}},C=()=>{o("update:error",!1),B()},L=()=>{if(e.error){const i=t.error?t.error():e.errorText;if(i)return v("div",{role:"button",class:k("error-text"),tabindex:0,onClick:C},[i])}},w=()=>{if(n.value&&!e.finished&&!e.disabled)return v("div",{class:k("loading")},[t.loading?t.loading():v(y,{class:k("loading-icon")},{default:()=>[e.loadingText||S("loading")]})])};return u((()=>[e.loading,e.finished,e.error]),B),x&&u(x,(e=>{e&&B()})),c((()=>{n.value=e.loading})),f((()=>{e.immediateCheck&&B()})),b({check:B}),g("scroll",B,{target:T,passive:!0}),()=>{var i;const r=null==(i=t.default)?void 0:i.call(t),o=v("div",{ref:d,class:k("placeholder")},null);return v("div",{ref:l,role:"feed",class:k(),"aria-busy":n.value},["down"===e.direction?r:o,w(),j(),L(),"up"===e.direction?r:o])}}});e("L",x(j))}}}));
