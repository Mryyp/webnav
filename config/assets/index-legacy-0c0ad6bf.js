System.register(["./index-legacy-a99c9020.js","./scenes-legacy-4312c495.js","./_plugin-vue_export-helper-legacy-81237f8a.js","./project-legacy-4cbbb44a.js","./utils-legacy-dc7aece1.js","./index-legacy-68f7e69d.js","./index-legacy-d43907dc.js","./index-legacy-72b87ffe.js","./use-route-legacy-499fde2a.js","./index-legacy-c9ba97df.js","./use-id-legacy-6fdeb452.js","./index-legacy-80e98bda.js","./index-legacy-eba374c8.js","./index-legacy-83c576b6.js","./request-legacy-92f25d7d.js"],(function(e,l){"use strict";var a,n,o,s,t,d,i,c,r,u,m,y,v,p,h,_,g,w,f,k,x,b,j,S,M,C,q,I,z,B,D,E,F,N,W,A,J;return{setters:[e=>{a=e.d,n=e.x,o=e.i,s=e.R,t=e.n,d=e.c,i=e.e,c=e.ai,r=e.f,u=e.F,m=e.I,y=e.o,v=e.b,p=e.g,h=e.t,_=e.y,g=e.p,w=e.h,f=e.j,k=e.s,x=e.v,b=e.r,j=e.w},e=>{S=e.D,M=e._,C=e.T,q=e.S,I=e.B,z=e.L},e=>{B=e.I,D=e._,E=e.N},e=>{F=e.p},e=>{N=e.f},e=>{W=e.I},e=>{A=e.a,J=e.S},null,null,null,null,null,null,null,null],execute:function(){const l=e=>(g("data-v-a2b1c7bc"),e=e(),w(),e),L={class:"inventory"},O={class:"table"},R={class:"header"},T={class:"top"},$=["onClick"],G={key:0},H=["src"],K={key:0},P={key:0,class:"bbox"},Q=l((()=>i("div",{class:"bname"}," 主要信息： ",-1))),U={class:"vhtml"},V={key:1,class:"bbox"},X=l((()=>i("div",{class:"bname"}," 备注说明： ",-1))),Y={class:"vhtml"},Z=a({__name:"inventory",props:{columns:{}},setup(e){const l=e,{columns:a}=n(l),g=a.value.map((()=>o(null))),w=e=>l=>{g[e].value=l},f=s((()=>{const e=g.map((e=>e.value?[e.value.querySelector(".col1")?.clientWidth||0,e.value.querySelector(".col2")?.clientWidth||0,e.value.querySelector(".col3")?.clientWidth||0,e.value.querySelector(".col4")?.clientWidth||0,e.value.querySelector(".col5")?.clientWidth||0]:[0,0])),l=Math.max(...e.map((([e])=>e))),a=Math.max(...e.map((([,e])=>e))),n=Math.max(...e.map((([,,e])=>e))),o=Math.max(...e.map((([,,,e])=>e))),s=Math.max(...e.map((([,,,,e])=>e)));return[l,a,n,o,s,l+a+n+o+s+3]})),k=o(!1);return t((()=>{k.value=!0})),(e,l)=>{const n=B;return y(),d("div",L,[i("ul",O,[i("li",R,[i("div",T,[i("div",{ref:"col1",style:c({width:r(k)?r(f)[0]/100+"rem":"auto"})}," 产品类别 ",4),i("div",{ref:"col2",style:c({width:r(k)?r(f)[1]/100+"rem":"auto"})}," 品牌 ",4),i("div",{ref:"col3",style:c({width:r(k)?r(f)[2]/100+"rem":"auto"})}," 缩略图 ",4),i("div",{ref:"col4",style:c({width:r(k)?r(f)[3]/100+"rem":"auto"})}," 售价/单位 ",4),i("div",{ref:"col5",style:c({width:r(k)?r(f)[4]/100+"rem":"auto"})}," 数量 ",4)])]),(y(!0),d(u,null,m(r(a),((e,l)=>(y(),d("li",{key:l,ref_for:!0,ref:"columnDivs",class:"body"},[i("div",{ref_for:!0,ref:w(l),class:"top",onClick:l=>(e=>{e.on=!e.on})(e)},[i("div",{class:"col1",style:c({width:r(k)?r(f)[0]/100+"rem":"auto"})},[v(n,{class:"icon",name:e.on?"arrow-up":"arrow-down",size:"0.08rem",color:"#293644"},null,8,["name"]),p(" "+h(e.name),1)],4),i("div",{class:"col2",style:c({width:r(k)?r(f)[1]/100+"rem":"auto"})},[e.product.length?(y(),d("span",G,h(e.product[0].brand),1)):_("",!0)],4),i("div",{class:"col3",style:c({width:r(k)?r(f)[2]/100+"rem":"auto"})},[e.product.length?(y(),d("img",{key:0,class:"shopImg",src:e.product[0].img},null,8,H)):_("",!0)],4),i("div",{class:"col4",style:c({width:r(k)?r(f)[3]/100+"rem":"auto"})},[e.product.length?(y(),d("span",K," ¥"+h(e.product[0].price/100)+"/"+h(e.product[0].unit),1)):_("",!0)],4),i("div",{class:"col5",style:c({width:r(k)?r(f)[4]/100+"rem":"auto"})},h(e.num),5)],8,$),e.on?(y(),d("div",{key:0,class:"bottom",style:c({width:r(k)?r(f)[5]/100+"rem":"100%"})},[e.product.length?(y(),d("div",P,[Q,i("div",U,h(e.product[0].extra),1)])):_("",!0),e.product.length?(y(),d("div",V,[X,i("div",Y,h(e.product[0].remark),1)])):_("",!0)],4)):_("",!0)])))),128))])])}}}),ee=D(Z,[["__scopeId","data-v-a2b1c7bc"]]),le=e=>(g("data-v-3dfc9436"),e=e(),w(),e),ae={class:"money"},ne=le((()=>i("span",null,"¥",-1))),oe={key:0,class:"bottom"},se=[le((()=>i("div",null,[i("span",null,"主要信息：包含设备、运输费用、不含税")],-1))),le((()=>i("div",null,[i("span",null,"备注说明：所有产品均为原厂正品，智能家居设备支持互联互通、远程控制及场景自动化")],-1)))],te={class:"money"},de={class:"cost"},ie={class:"rightBox"},ce={class:"titlar"},re=le((()=>i("span",null,"¥",-1))),ue=[le((()=>i("img",{src:M},null,-1)))],me={key:0,class:"bottom"},ye=[le((()=>i("div",null,[i("span",null,"主要信息：设备总金额 x 20%")],-1))),le((()=>i("div",null,[i("span",null,"备注说明：包含安装所需的辅材、人工、app配置、设备配网、场景调试费用")],-1)))],ve={class:"money"},pe={class:"cost"},he={class:"rightBox"},_e={class:"titlar"},ge=le((()=>i("span",null,"¥",-1))),we=[le((()=>i("img",{src:M},null,-1)))],fe={key:0,class:"bottom"},ke=[le((()=>i("div",null,[i("span",null,"主要信息：面积 x 50元/平方")],-1))),le((()=>i("div",null,[i("span",null,"备注说明：根据CAD图纸，提供灯光场景设计，输出灯具点位、选型等图纸清单")],-1)))],xe={class:"money"},be={style:{color:"#4775EB"}},je=le((()=>i("span",null,"¥",-1))),Se={key:0,class:"bottom"},Me=[le((()=>i("div",null,[i("span",null,"主要信息：含设备、运输、安装、调试")],-1))),le((()=>i("div",null,[i("span",null,"备注说明：定金50%，主材安装阶段设备进场前支付45%，配网调试当天支付5%。不含税")],-1)))],Ce=a({__name:"money",props:{money:{},edit:{}},emits:["click"],setup(e,{emit:l}){const a=e,{money:s,edit:t}=n(a),c=()=>{s.value.all_money=s.value.money+s.value.de_money+s.value.design_money,l("click",s.value)},u=o([!1,!1,!1,!1]),m=e=>{u.value[e]=!u.value[e]},g=o(),w=()=>{g.value.display(!0)},k=e=>{s.value.de_money=Number(e),c()},x=o(),b=()=>{x.value.display(!0)},j=e=>{s.value.design_money=Number(e),c()};return(e,l)=>{const a=B;return y(),d("div",null,[i("div",ae,[i("div",{class:"cost",onClick:l[0]||(l[0]=e=>m(0))},[i("div",null,[v(a,{name:r(u)[0]?"arrow-up":"arrow-down",size:"0.12rem",color:"#273545"},null,8,["name"]),p(" 智能家居设备总计金额 ")]),i("div",null,[ne,p(h(r(s).money.toFixed(2)),1)])]),r(u)[0]?(y(),d("div",oe,se)):_("",!0)]),i("div",te,[i("div",de,[i("div",{onClick:l[1]||(l[1]=e=>m(1))},[v(a,{name:r(u)[1]?"arrow-up":"arrow-down",size:"0.12rem",color:"#273545"},null,8,["name"]),p(" 设备安装、配网调试费 ")]),i("div",ie,[i("div",ce,[re,p(h(r(s).de_money.toFixed(2)),1)]),r(t)?_("",!0):(y(),d("div",{key:0,class:"showEdit",onClick:w},ue))])]),r(u)[1]?(y(),d("div",me,ye)):_("",!0)]),i("div",ve,[i("div",pe,[i("div",{onClick:l[2]||(l[2]=e=>m(2))},[v(a,{name:r(u)[2]?"arrow-up":"arrow-down",size:"0.12rem",color:"#273545"},null,8,["name"]),p(" 智能灯光标准设计 ")]),i("div",he,[i("div",_e,[ge,p(h(r(s).design_money.toFixed(2)),1)]),r(t)?_("",!0):(y(),d("div",{key:0,class:"showEdit",onClick:b},we))])]),r(u)[2]?(y(),d("div",fe,ke)):_("",!0)]),i("div",xe,[i("div",{class:"cost",onClick:l[3]||(l[3]=e=>m(3))},[i("div",null,[v(a,{name:r(u)[3]?"arrow-up":"arrow-down",size:"0.12rem",color:"#273545"},null,8,["name"]),p(" 总金额 ")]),i("div",be,[je,p(h(r(s).all_money.toFixed(2)),1)])]),r(u)[3]?(y(),d("div",Se,Me)):_("",!0)]),r(s)?(y(),f(S,{key:0,ref_key:"childMoneya",ref:g,money:r(s).de_money,type:"de_money",onDoSthMoney:k},null,8,["money"])):_("",!0),r(s)?(y(),f(S,{key:1,ref_key:"childMoneyb",ref:x,money:r(s).design_money,type:"design_money",onDoSthMoney:j},null,8,["money"])):_("",!0)])}}}),qe=D(Ce,[["__scopeId","data-v-3dfc9436"]]),Ie={class:"box"},ze={key:1,class:"main"},Be={class:"custom-indicator"},De={class:"header"},Ee={class:"header_name"},Fe={class:"header_time"},Ne={class:"mainBody"},We={class:"main_box"},Ae=["src"],Je=a({__name:"index",setup(e){const l=k(),a=x(),n=a.query?.code;console.log(n);const s=o([]),t=b({loadingShow:!1}),c=o({}),p=o({}),g=b({money:0,de_money:0,design_money:0,all_money:0,cost_money:0,profit:0}),w=o(null),S=o([]);return(async()=>{t.loadingShow=!0;const e=await F.share({code:n});0===e.code&&(s.value=[],s.value.push(e.data.order.img),c.value=e.data.order,g.money=e.data.order.money/100,g.de_money=e.data.order.de_money/100,g.design_money=e.data.order.design_money/100,g.all_money=e.data.order.all_money/100,g.cost_money=e.data.order.cost_money/100,g.profit=e.data.order.profit,w.value={...g},p.value=e.data.style,S.value=JSON.parse(e.data.order.content),S.value.forEach((e=>{e.on=!1,e.product.forEach(((e,l)=>{e.pon=0===l}))}))),t.loadingShow=!1})(),(e,a)=>{const n=E,o=W,g=J,k=A,x=I;return y(),d("div",Ie,[v(n,{class:"nav",title:"详情",fixed:"",placeholder:"","safe-area-inset-top":""}),r(t).loadingShow?(y(),f(z,{key:0})):(y(),d("div",ze,[v(k,{class:"banner",autoplay:3e3,"lazy-render":""},{indicator:j((({active:e,total:l})=>[i("div",Be,h(e+1)+"/"+h(l),1)])),default:j((()=>[(y(!0),d(u,null,m(r(s),(e=>(y(),f(g,{key:e},{default:j((()=>[v(o,{width:"100%",height:"1.99rem",src:e},null,8,["src"])])),_:2},1024)))),128))])),_:1}),i("div",De,[i("div",Ee,h(r(c).name),1),i("div",Fe,[v(o,{width:"0.15rem",height:"0.15rem",src:r(l).getImage("home/time.png")},null,8,["src"]),i("span",null,h(r(N)(Number(r(c).add_time),"yyyy-MM-dd",1)),1)])]),i("div",Ne,[i("div",We,[v(C,{title:"智能产品清单",font:"0.18rem",padding:"0.27rem 0 0.1rem 0"}),v(ee,{columns:r(S)},null,8,["columns"]),v(C,{title:"装修风格",tips:`(${r(p).name})`},null,8,["tips"]),r(c)?(y(),d("iframe",{key:0,class:"ifam",src:r(p).url},null,8,Ae)):_("",!0),v(C,{title:"价格明细"}),v(qe,{money:r(w),edit:!0},null,8,["money"])])]),v(x),r(c).ai_content?(y(),f(q,{key:0,name:r(c).ai_content},null,8,["name"])):_("",!0)]))])}}});e("default",D(Je,[["__scopeId","data-v-ec319926"]]))}}}));
