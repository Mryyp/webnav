System.register(["./index-legacy-a99c9020.js","./index-legacy-e3a7fdfb.js","./index-legacy-9da69aad.js","./index-legacy-72b87ffe.js","./index-legacy-c9ba97df.js","./_plugin-vue_export-helper-legacy-81237f8a.js","./index-legacy-80e98bda.js","./index-legacy-68f7e69d.js","./index-legacy-df63af3b.js","./index-legacy-d43907dc.js","./use-id-legacy-6fdeb452.js","./request-legacy-92f25d7d.js","./project-legacy-4cbbb44a.js","./use-route-legacy-499fde2a.js"],(function(e,l){"use strict";var a,o,t,i,n,s,r,c,d,u,m,p,v,g,h,f,b,y,k,w,x,V,C,_,z,S,P,j,I,U,R,F,L,O,Z,B,D,X,Y,q,A,T,H,N,W,$,G,M,E,Q,J,K,ee,le,ae,oe,te,ie,ne,se,re,ce,de,ue,me,pe,ve,ge,he,fe,be,ye,ke,we,xe,Ve,Ce,_e,ze,Se,Pe,je,Ie,Ue;return{setters:[e=>{a=e.z,o=e.d,t=e.a1,i=e.m,n=e.A,s=e.b,r=e.B,c=e.C,d=e.E,u=e.a2,m=e.a3,p=e.Y,v=e.i,g=e.R,h=e.D,f=e.a4,b=e.a5,y=e.W,k=e.r,w=e.N,x=e.Q,V=e.V,C=e.a6,_=e.U,z=e.a7,S=e.L,P=e.X,j=e.n,I=e.a8,U=e.a9,R=e.O,F=e.aa,L=e.ab,O=e.ac,Z=e.$,B=e.S,D=e.ad,X=e.ae,Y=e.af,q=e.ag,A=e.s,T=e.x,H=e.o,N=e.c,W=e.w,$=e.e,G=e.f,M=e.G,E=e.g,Q=e.F,J=e.I,K=e.ah,ee=e.t,le=e.y,ae=e.p,oe=e.h,te=e.j,ie=e.u},e=>{ne=e.L,se=e.P},e=>{re=e.S},null,e=>{ce=e.F},e=>{de=e.I,ue=e.T,me=e.L,pe=e.H,ve=e._,ge=e.N},e=>{he=e.a,fe=e.u,be=e.P,ye=e.c},e=>{ke=e.I},e=>{we=e.i},e=>{xe=e.S,Ve=e.a},e=>{Ce=e.L},e=>{_e=e.m,ze=e.u,Se=e.c,Pe=e.d,je=e.b,Ie=e.s},e=>{Ue=e.p},null],execute:function(){const[l,Re]=a("radio-group"),Fe={shape:String,disabled:Boolean,iconSize:r,direction:String,modelValue:c,checkedColor:String},Le=Symbol(l);var Oe=o({name:l,props:Fe,emits:["change","update:modelValue"],setup(e,{emit:l,slots:a}){const{linkChildren:o}=t(Le);return i((()=>e.modelValue),(e=>l("change",e))),o({props:e,updateValue:e=>l("update:modelValue",e)}),n((()=>e.modelValue)),()=>{var l;return s("div",{class:Re([e.direction]),role:"radiogroup"},[null==(l=a.default)?void 0:l.call(a)])}}});const Ze=d(Oe),Be={name:c,disabled:Boolean,iconSize:r,modelValue:c,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var De=o({props:u({},Be,{bem:m(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:p}),emits:["click","toggle"],setup(e,{emit:l,slots:a}){const o=v(),t=l=>{if(e.parent&&e.bindGroup)return e.parent.props[l]},i=g((()=>{if(e.parent&&e.bindGroup){const l=t("disabled")||e.disabled;if("checkbox"===e.role){const a=t("modelValue").length,o=t("max");return l||o&&a>=+o&&!e.checked}return l}return e.disabled})),n=g((()=>t("direction"))),r=g((()=>{const l=e.checkedColor||t("checkedColor");if(l&&e.checked&&!i.value)return{borderColor:l,backgroundColor:l}})),c=g((()=>e.shape||t("shape")||"round")),d=a=>{const{target:t}=a,n=o.value,s=n===t||(null==n?void 0:n.contains(t));i.value||!s&&e.labelDisabled||l("toggle"),l("click",a)},u=()=>{var l,n;const{bem:d,checked:u}=e,m=e.iconSize||t("iconSize");return s("div",{ref:o,class:d("icon",[c.value,{disabled:i.value,checked:u}]),style:"dot"!==c.value?{fontSize:h(m)}:{width:h(m),height:h(m),borderColor:null==(l=r.value)?void 0:l.borderColor}},[a.icon?a.icon({checked:u,disabled:i.value}):"dot"!==c.value?s(de,{name:"success",style:r.value},null):s("div",{class:d("icon--dot__icon"),style:{backgroundColor:null==(n=r.value)?void 0:n.backgroundColor}},null)])},m=()=>{if(a.default)return s("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[a.default()])};return()=>{const l="left"===e.labelPosition?[m(),u()]:[u(),m()];return s("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},n.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:d},[l])}}});const Xe=u({},Be,{shape:String}),[Ye,qe]=a("radio");var Ae=o({name:Ye,props:Xe,emits:["update:modelValue"],setup(e,{emit:l,slots:a}){const{parent:o}=f(Le),t=()=>{o?o.updateValue(e.name):l("update:modelValue",e.name)};return()=>s(De,y({bem:qe,role:"radio",parent:o,checked:(o?o.props.modelValue:e.modelValue)===e.name,onToggle:t},e),b(a,["default","icon"]))}});const Te=d(Ae),[He,Ne]=a("checkbox-group"),We=Symbol(He),[$e,Ge]=a("checkbox"),Me=u({},Be,{shape:String,bindGroup:p});var Ee=o({name:$e,props:Me,emits:["change","update:modelValue"],setup(e,{emit:l,slots:a}){const{parent:o}=f(We),t=g((()=>o&&e.bindGroup?-1!==o.props.modelValue.indexOf(e.name):!!e.modelValue)),r=(a=!t.value)=>{o&&e.bindGroup?(l=>{const{name:a}=e,{max:t,modelValue:i}=o.props,n=i.slice();if(l)t&&n.length>=+t||n.includes(a)||(n.push(a),e.bindGroup&&o.updateValue(n));else{const l=n.indexOf(a);-1!==l&&(n.splice(l,1),e.bindGroup&&o.updateValue(n))}})(a):l("update:modelValue",a)};return i((()=>e.modelValue),(e=>l("change",e))),he({toggle:r,props:e,checked:t}),n((()=>e.modelValue)),()=>s(De,y({bem:Ge,role:"checkbox",parent:o,checked:t.value,onToggle:r},e),b(a,["default","icon"]))}});const Qe=d(Ee),Je=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Ke=a("image-preview")[1];var el=o({props:{src:String,show:Boolean,active:Number,minZoom:m(r),maxZoom:m(r),rootWidth:m(Number),rootHeight:m(Number),disableZoom:Boolean},emits:["scale","close","longPress"],setup(e,{emit:l,slots:a}){const o=k({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),t=fe(),n=v(),r=v(),c=v(!1),d=v(!1);let u=0;const m=g((()=>{const{scale:e,moveX:l,moveY:a,moving:t,zooming:i,initializing:n}=o,s={transitionDuration:i||t||n?"0s":".3s"};return(1!==e||d.value)&&(s.transform=`matrix(${e}, 0, 0, ${e}, ${l}, ${a})`),s})),p=g((()=>{if(o.imageRatio){const{rootWidth:l,rootHeight:a}=e,t=c.value?a/o.imageRatio:l;return Math.max(0,(o.scale*t-l)/2)}return 0})),h=g((()=>{if(o.imageRatio){const{rootWidth:l,rootHeight:a}=e,t=c.value?a:l*o.imageRatio;return Math.max(0,(o.scale*t-a)/2)}return 0})),f=(a,t)=>{var i;if((a=V(a,+e.minZoom,+e.maxZoom+1))!==o.scale){const s=a/o.scale;if(o.scale=a,t){const e=_(null==(i=n.value)?void 0:i.$el),l={x:.5*e.width,y:.5*e.height},a=o.moveX-(t.x-e.left-l.x)*(s-1),r=o.moveY-(t.y-e.top-l.y)*(s-1);o.moveX=V(a,-p.value,p.value),o.moveY=V(r,-h.value,h.value)}else o.moveX=0,o.moveY=d.value?u:0;l("scale",{scale:a,index:e.active})}},b=()=>{f(1)};let y,z,S,P,j,I,U,R,F=!1;const L=l=>{const{touches:a}=l;if(y=a.length,2===y&&e.disableZoom)return;const{offsetX:i}=t;t.start(l),z=o.moveX,S=o.moveY,R=Date.now(),F=!1,o.moving=1===y&&(1!==o.scale||d.value),o.zooming=2===y&&!i.value,o.zooming&&(P=o.scale,j=Je(a))},O=()=>{if(y>1)return;const{offsetX:e,offsetY:a}=t,i=Date.now()-R;e.value<ue&&a.value<ue&&(i<250?U?(clearTimeout(U),U=null,(()=>{const e=o.scale>1?1:2;f(e,2===e||d.value?{x:t.startX.value,y:t.startY.value}:void 0)})()):U=setTimeout((()=>{l("close"),U=null}),250):i>me&&l("longPress"))},Z=l=>{let a=!1;if((o.moving||o.zooming)&&(a=!0,o.moving&&z===o.moveX&&S===o.moveY&&(a=!1),!l.touches.length)){o.zooming&&(o.moveX=V(o.moveX,-p.value,p.value),o.moveY=V(o.moveY,-h.value,h.value),o.zooming=!1),o.moving=!1,z=0,S=0,P=1,o.scale<1&&b();const l=+e.maxZoom;o.scale>l&&f(l,I)}x(l,a),O(),t.reset()},B=()=>{const{rootWidth:l,rootHeight:a}=e,t=a/l,{imageRatio:i}=o;c.value=o.imageRatio>t&&i<2.6,d.value=o.imageRatio>t&&i>=2.6,d.value&&(u=(i*l-a)/2,o.moveY=u,o.initializing=!0,C((()=>{o.initializing=!1}))),b()},D=e=>{const{naturalWidth:l,naturalHeight:a}=e.target;o.imageRatio=a/l,B()};return i((()=>e.active),b),i((()=>e.show),(e=>{e||b()})),i((()=>[e.rootWidth,e.rootHeight]),B),w("touchmove",(e=>{const{touches:l}=e;if(t.move(e),o.moving){const{deltaX:l,deltaY:a}=t,i=l.value+z,n=a.value+S;if((i>p.value||i<-p.value)&&!F&&t.isHorizontal())return void(o.moving=!1);F=!0,x(e,!0),o.moveX=V(i,-p.value,p.value),o.moveY=V(n,-h.value,h.value)}if(o.zooming&&(x(e,!0),2===l.length)){const e=Je(l),a=P*e/j;I=(e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}))(l),f(a,I)}}),{target:g((()=>{var e;return null==(e=r.value)?void 0:e.$el}))}),()=>{const l={loading:()=>s(Ce,{type:"spinner"},null)};return s(xe,{ref:r,class:Ke("swipe-item"),onTouchstartPassive:L,onTouchend:Z,onTouchcancel:Z},{default:()=>[a.image?s("div",{class:Ke("image-wrap")},[a.image({src:e.src})]):s(ke,{ref:n,src:e.src,fit:"contain",class:Ke("image",{vertical:c.value}),style:m.value,onLoad:D},l)]})}}});const[ll,al]=a("image-preview"),ol=["show","teleport","transition","overlayStyle","closeOnPopstate"],tl={show:Boolean,loop:p,images:z(),minZoom:S(1/3),maxZoom:S(3),overlay:p,closeable:Boolean,showIndex:p,className:c,closeIcon:P("clear"),transition:String,beforeClose:Function,overlayClass:c,overlayStyle:Object,swipeDuration:S(300),startPosition:S(0),showIndicators:Boolean,closeOnPopstate:p,closeIconPosition:P("top-right"),teleport:[String,Object]};var il=o({name:ll,props:tl,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:l,slots:a}){const o=v(),t=k({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),n=()=>{if(o.value){const e=_(o.value.$el);t.rootWidth=e.width,t.rootHeight=e.height,o.value.resize()}},r=e=>l("scale",e),c=e=>l("update:show",e),d=()=>{ye(e.beforeClose,{args:[t.active],done:()=>c(!1)})},u=e=>{e!==t.active&&(t.active=e,l("change",e))},m=()=>{if(e.showIndex)return s("div",{class:al("index")},[a.index?a.index({index:t.active}):`${t.active+1} / ${e.images.length}`])},p=()=>{if(a.cover)return s("div",{class:al("cover")},[a.cover()])},g=()=>{t.disableZoom=!0},h=()=>{t.disableZoom=!1},f=()=>{if(e.closeable)return s(de,{role:"button",name:e.closeIcon,class:[al("close-icon",e.closeIconPosition),pe],onClick:d},null)},w=()=>l("closed"),x=(e,l)=>{var a;return null==(a=o.value)?void 0:a.swipeTo(e,l)};return he({swipeTo:x}),j(n),i([I,U],n),i((()=>e.startPosition),(e=>u(+e))),i((()=>e.show),(a=>{const{images:o,startPosition:i}=e;a?(u(+i),R((()=>{n(),x(+i,{immediate:!0})}))):l("close",{index:t.active,url:o[t.active]})})),()=>s(be,y({class:[al(),e.className],overlayClass:[al("overlay"),e.overlayClass],onClosed:w,"onUpdate:show":c},b(e,ol)),{default:()=>[f(),s(Ve,{ref:o,lazyRender:!0,loop:e.loop,class:al("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:u,onDragEnd:h,onDragStart:g},{default:()=>[e.images.map(((o,i)=>s(el,{src:o,show:e.show,active:t.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:t.rootWidth,rootHeight:t.rootHeight,disableZoom:t.disableZoom,onScale:r,onClose:d,onLongPress:()=>l("longPress",{index:i})},{image:a.image})))]}),m(),p()]})}});let nl;const sl={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"},rl=(e,l=0)=>{if(F)return nl||({instance:nl}=_e({setup(){const{state:e,toggle:l}=ze(),a=()=>{e.images=[]};return()=>s(il,y(e,{onClosed:a,"onUpdate:show":l}),null)}})),e=Array.isArray(e)?{images:e,startPosition:l}:e,nl.open(u({},sl,e)),nl};d(il);const[cl,dl,ul]=a("uploader");function ml(e,l){return new Promise((a=>{if("file"===l)return void a();const o=new FileReader;o.onload=e=>{a(e.target.result)},"dataUrl"===l?o.readAsDataURL(e):"text"===l&&o.readAsText(e)}))}function pl(e,l){return L(e).some((e=>!!e.file&&(O(l)?l(e.file):e.file.size>+l)))}const vl=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i;function gl(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(l=e.url,vl.test(l)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var l}var hl=o({props:{name:r,item:m(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:l,slots:a}){const o=()=>{const{status:l,message:a}=e.item;if("uploading"===l||"failed"===l){const e="failed"===l?s(de,{name:"close",class:dl("mask-icon")},null):s(Ce,{class:dl("loading")},null),o=B(a)&&""!==a;return s("div",{class:dl("mask")},[e,o&&s("div",{class:dl("mask-message")},[a])])}},t=a=>{const{name:o,item:t,index:i,beforeDelete:n}=e;a.stopPropagation(),ye(n,{args:[t,{name:o,index:i}],done:()=>l("delete")})},i=()=>l("preview"),n=()=>l("reupload"),r=()=>{if(e.deletable&&"uploading"!==e.item.status){const e=a["preview-delete"];return s("div",{role:"button",class:dl("preview-delete",{shadow:!e}),tabindex:0,"aria-label":ul("delete"),onClick:t},[e?e():s(de,{name:"cross",class:dl("preview-delete-icon")},null)])}},c=()=>{if(a["preview-cover"]){const{index:l,item:o}=e;return s("div",{class:dl("preview-cover")},[a["preview-cover"](u({index:l},o))])}},d=()=>{const{item:l,lazyLoad:a,imageFit:o,previewSize:t,reupload:r}=e;return gl(l)?s(ke,{fit:o,src:l.objectUrl||l.content||l.url,class:dl("preview-image"),width:Array.isArray(t)?t[0]:t,height:Array.isArray(t)?t[1]:t,lazyLoad:a,onClick:r?n:i},{default:c}):s("div",{class:dl("file"),style:Z(e.previewSize)},[s(de,{class:dl("file-icon"),name:"description"},null),s("div",{class:[dl("file-name"),"van-ellipsis"]},[l.file?l.file.name:l.url]),c()])};return()=>s("div",{class:dl("preview")},[d(),o(),r()])}});const fl={name:S(""),accept:P("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:S(1/0),imageFit:P("cover"),resultType:P("dataUrl"),uploadIcon:P("photograph"),uploadText:String,deletable:p,reupload:Boolean,afterRead:Function,showUpload:p,modelValue:z(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:p,previewOptions:Object,previewFullImage:p,maxSize:{type:[Number,String,Function],default:1/0}};var bl=o({name:cl,props:fl,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:l,slots:a}){const o=v(),t=[],i=v(-1),r=(l=e.modelValue.length)=>({name:e.name,index:l}),c=()=>{o.value&&(o.value.value="")},d=a=>{if(c(),pl(a,e.maxSize)){if(!Array.isArray(a))return void l("oversize",a,r());{const o=function(e,l){const a=[],o=[];return e.forEach((e=>{pl(e,l)?o.push(e):a.push(e)})),{valid:a,invalid:o}}(a,e.maxSize);if(a=o.valid,l("oversize",o.invalid,r()),!a.length)return}}if(a=k(a),i.value>-1){const o=[...e.modelValue];o.splice(i.value,1,a),l("update:modelValue",o),i.value=-1}else l("update:modelValue",[...e.modelValue,...L(a)]);e.afterRead&&e.afterRead(a,r())},m=l=>{const{maxCount:a,modelValue:o,resultType:t}=e;if(Array.isArray(l)){const e=+a-o.length;l.length>e&&(l=l.slice(0,e)),Promise.all(l.map((e=>ml(e,t)))).then((e=>{const a=l.map(((l,a)=>{const o={file:l,status:"",message:"",objectUrl:URL.createObjectURL(l)};return e[a]&&(o.content=e[a]),o}));d(a)}))}else ml(l,t).then((e=>{const a={file:l,status:"",message:"",objectUrl:URL.createObjectURL(l)};e&&(a.content=e),d(a)}))},p=l=>{const{files:a}=l.target;if(e.disabled||!a||!a.length)return;const o=1===a.length?a[0]:[].slice.call(a);if(e.beforeRead){const l=e.beforeRead(o,r());if(!l)return void c();if(q(l))return void l.then((e=>{m(e||o)})).catch(c)}m(o)};let g;const h=()=>l("closePreview"),f=(o,n)=>{const c=["imageFit","deletable","reupload","previewSize","beforeDelete"],d=u(b(e,c),b(o,c,!0));return s(hl,y({item:o,index:n,onClick:()=>l(e.reupload?"clickReupload":"clickPreview",o,r(n)),onDelete:()=>((a,o)=>{const t=e.modelValue.slice(0);t.splice(o,1),l("update:modelValue",t),l("delete",a,r(o))})(o,n),onPreview:()=>(l=>{if(e.previewFullImage){const a=e.modelValue.filter(gl),o=a.map((e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,t.push(e.url)),e.url))).filter(Boolean);g=rl(u({images:o,startPosition:a.indexOf(l),onClose:h},e.previewOptions))}})(o),onReupload:()=>(e=>{C(),i.value=e})(n)},b(e,["name","lazyLoad"]),d),b(a,["preview-cover","preview-delete"]))},w=()=>{if(e.previewImage)return e.modelValue.map(f)},x=e=>l("clickUpload",e),V=()=>{if(e.modelValue.length>=+e.maxCount&&!e.reupload)return;const l=e.modelValue.length>=+e.maxCount&&e.reupload,t=e.readonly?null:s("input",{ref:o,type:"file",class:dl("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===i.value,disabled:e.disabled,onChange:p},null);return a.default?X(s("div",{class:dl("input-wrapper"),onClick:x},[a.default(),t]),[[Y,!l]]):X(s("div",{class:dl("upload",{readonly:e.readonly}),style:Z(e.previewSize),onClick:x},[s(de,{name:e.uploadIcon,class:dl("upload-icon")},null),e.uploadText&&s("span",{class:dl("upload-text")},[e.uploadText]),t]),[[Y,e.showUpload&&!l]])},C=()=>{o.value&&!e.disabled&&o.value.click()};return D((()=>{t.forEach((e=>URL.revokeObjectURL(e)))})),he({chooseFile:C,closeImagePreview:()=>{g&&g.close()}}),n((()=>e.modelValue)),()=>s("div",{class:dl()},[s("div",{class:dl("wrapper",{disabled:e.disabled})},[w(),V()])])}});const yl=d(bl),kl=e=>(ae("data-v-ef1e24a2"),e=e(),oe(),e),wl=kl((()=>$("div",null,[$("span",{class:"required"},"*"),E("全屋智能需求 ")],-1))),xl=["src"],Vl={class:"demand"},Cl=["onClick"],_l=kl((()=>$("div",{style:{height:"0.06rem"}},null,-1))),zl=["src"],Sl=o({__name:"demand",props:{data:{}},emits:["click"],setup(e,{emit:l}){const a=e,o=A(),{data:t}=T(a),i=v([]),n=v(!1),r=()=>{l("click",i)},c=e=>{const l=t.value.map((e=>e.id));i.value=e?l:[],r()};return(e,l)=>{const a=Qe,d=ke;return H(),N("div",null,[s(ne,{title:"",border:!1,class:"check"},{default:W((()=>[wl,$("div",null,[s(a,{modelValue:G(n),"onUpdate:modelValue":l[0]||(l[0]=e=>M(n)?n.value=e:null),class:"checkbox","label-position":"left",onChange:c},{icon:W((e=>[$("img",{class:"img-icon",src:e.checked?G(o).getImage("home/radioa.png"):G(o).getImage("home/radio.png")},null,8,xl)])),default:W((()=>[E(" 全选 ")])),_:1},8,["modelValue"])])])),_:1}),$("ul",Vl,[(H(!0),N(Q,null,J(G(t),((e,l)=>(H(),N("li",{key:l,class:K(G(i).includes(e.id)?"select":"no"),onClick:l=>{return a=e.id,i.value.includes(a)?i.value=i.value.filter((e=>e!==a)):i.value.push(a),void r();var a}},[_l,s(d,{class:"img",width:"0.29rem",height:"0.29rem",src:G(o).getImage(`icon/${e.id}.png`)},null,8,["src"]),$("span",null,ee(e.name),1),G(i).includes(e.id)?(H(),N("img",{key:0,src:G(o).getImage("home/scrd.png")},null,8,zl)):le("",!0)],10,Cl)))),128))])])}}}),Pl=ve(Sl,[["__scopeId","data-v-ef1e24a2"]]),jl=(e=>(ae("data-v-3ef2f998"),e=e(),oe(),e))((()=>$("div",null," 场景模式介绍（chatgpt） ",-1))),Il=["src"],Ul={class:"scenes"},Rl=["onClick"],Fl=["src"],Ll=o({__name:"scenes",emits:["click"],setup(e,{emit:l}){const a=A(),o=k(["回家模式","会客模式","就餐模式","观影模式","阅读模式","睡眠模式","起夜模式","起床模式","离家模式","布防模式","空净模式","明亮模式","温馨模式","休闲模式","聚会模式","浪漫模式"]),t=v([]),i=v(!1),n=()=>{l("click",t)},r=e=>{t.value=e?o:[],n()};return(e,l)=>{const c=Qe;return H(),N("div",null,[s(ne,{title:"",border:!1,class:"check"},{default:W((()=>[jl,$("div",null,[s(c,{modelValue:G(i),"onUpdate:modelValue":l[0]||(l[0]=e=>M(i)?i.value=e:null),class:"checkbox","label-position":"left",onChange:r},{icon:W((e=>[$("img",{class:"img-icon",src:e.checked?G(a).getImage("home/radioa.png"):G(a).getImage("home/radio.png")},null,8,Il)])),default:W((()=>[E(" 全选 ")])),_:1},8,["modelValue"])])])),_:1}),$("ul",Ul,[(H(!0),N(Q,null,J(G(o),((e,l)=>(H(),N("li",{key:l,class:K(G(t).includes(e)?"select":"no"),onClick:l=>(e=>{t.value.includes(e)?t.value=t.value.filter((l=>l!==e)):t.value.push(e),n()})(e)},[E(ee(e)+" ",1),G(t).includes(e)?(H(),N("img",{key:0,src:G(a).getImage("home/scrs.png")},null,8,Fl)):le("",!0)],10,Rl)))),128))])])}}}),Ol=ve(Ll,[["__scopeId","data-v-3ef2f998"]]),Zl={class:"boxImg"},Bl=["onClick"],Dl=o({__name:"upload",props:{size:{}},emits:["click","callParent"],setup(e,{emit:l}){const{size:a}=e,o=v([]),t=()=>{l("click",o.value)},i=async e=>{const l=new FormData;l.append("img",e.file),Se({message:"上传中...",duration:0,forbidClick:!0});const a=await we.upload(l);0===a.code&&(o.value.push(a.data),Pe(),t())};return(e,l)=>{const n=ke,r=de,c=yl;return H(),N("div",Zl,[(H(!0),N(Q,null,J(G(o),((e,l)=>(H(),N("div",{key:l,class:"list"},[s(n,{width:"0.9rem",height:"0.9rem",src:e},null,8,["src"]),$("div",{class:"icon",onClick:e=>(e=>{o.value.splice(e,1),t()})(l)},[s(r,{name:"cross",color:"#ffffff"})],8,Bl)])))),128)),G(o).length<a?(H(),te(c,{key:0,class:"list","after-read":i,"max-count":6,"preview-size":"0.9rem"})):le("",!0)])}}}),Xl=ve(Dl,[["__scopeId","data-v-0e674bd0"]]),Yl=e=>(ae("data-v-434da295"),e=e(),oe(),e),ql={class:"box"},Al={class:"main"},Tl={class:"main-m"},Hl=Yl((()=>$("span",{class:"required"},"*",-1))),Nl=Yl((()=>$("span",null,"层",-1))),Wl=Yl((()=>$("span",null,"室",-1))),$l=Yl((()=>$("span",null,"厅",-1))),Gl=Yl((()=>$("span",null,"厨",-1))),Ml=Yl((()=>$("span",null,"卫",-1))),El=Yl((()=>$("span",null,"阳台",-1))),Ql=Yl((()=>$("span",{style:{color:"#273545"}},"平方",-1))),Jl=Yl((()=>$("span",{class:"required"},"*",-1))),Kl=Yl((()=>$("span",{style:{color:"#273545"}},"%",-1))),ea={key:1,class:"button"};e("default",ve(o({__name:"index",setup(e){const l=A(),a=ie(),o=()=>history.back(),t=()=>{a.push({path:"/home"})},i=k({name:"",style:"",img:"",a:1,b:1,c:1,d:1,e:1,f:1,area:"",type:null,money:"",p_ids:"",scenes:""}),n=k({showPicker:!1,demand:[],style:""}),r=v([]),c=({selectedOptions:e})=>{i.style=e[0]?.id,n.style=e[0]?.name,n.showPicker=!1},d={text:"name",value:"id"},u=e=>{i.img=e[0]};(async()=>{const e=await Ue.project();0===e.code&&(r.value=e.data.style,n.demand=e.data.project)})();const m=e=>{i.p_ids=e.value.join(",")},p=e=>{i.scenes=e.value.join(",")},g=[{message:"请输入项目名称",required:!0,key:"name"},{message:"请选择装修风格",required:!0,key:"style"},{message:"请上传户型图",required:!1,key:"img"},{message:"请输入每层建筑面积",required:!0,key:"area"},{message:"请选择采用方案",required:!0,key:"type"},{message:"请选择全屋智能需求",required:!0,key:"p_ids"},{message:"请选择场景模式",required:!1,key:"scenes"}],h=v(!0),f=async()=>{if(e=i,g.some((l=>!(!l.required||e[l.key]||(Ie(l.message),0)))))return;var e;Se({message:"生成报价中...",forbidClick:!0,duration:0}),h.value=!1;const l=await Ue.create(i);h.value=!0,0===l.code&&je({message:"新建项目成功",forbidClick:!0,onClose:()=>{a.push({path:"/detail",query:{type:1,id:l.data.id}})}})};return(e,a)=>{const v=ke,g=ge,b=ce,y=re,k=Te,w=Ze,x=Ce,V=se,C=be;return H(),N("div",ql,[s(g,{class:"nav",title:"新建报价项目",fixed:"",placeholder:"","safe-area-inset-top":"","left-arrow":"",onClickLeft:o},{right:W((()=>[s(v,{width:"0.26rem",height:"0.26rem",src:G(l).getImage("home/me.png"),onClick:t},null,8,["src"])])),_:1}),$("div",Al,[$("div",Tl,[s(ne,null,{default:W((()=>[s(b,{modelValue:G(i).name,"onUpdate:modelValue":a[0]||(a[0]=e=>G(i).name=e),modelModifiers:{trim:!0},required:"",maxlength:"20",class:"input",type:"text",label:"项目名称",placeholder:"请输入项目名称","input-align":"right"},null,8,["modelValue"])])),_:1}),s(ne,null,{default:W((()=>[s(b,{modelValue:G(n).style,"onUpdate:modelValue":a[1]||(a[1]=e=>G(n).style=e),"is-link":"",readonly:"",required:"",name:"picker",class:"input",label:"装修风格",placeholder:"请选择装修风格","input-align":"right",onClick:a[2]||(a[2]=e=>G(n).showPicker=!0)},null,8,["modelValue"])])),_:1}),s(ne,{title:"",border:!1},{default:W((()=>[E(" 上传户型图 ")])),_:1}),s(ne,{padding:"0 0 0.08rem 0"},{default:W((()=>[s(Xl,{size:1,onClick:u})])),_:1}),s(ne,{title:"",border:!1},{default:W((()=>[Hl,E("户型结构 ")])),_:1}),s(ne,{class:"stepper"},{default:W((()=>[$("li",null,[s(y,{modelValue:G(i).a,"onUpdate:modelValue":a[3]||(a[3]=e=>G(i).a=e),class:"van-stepper","disable-input":"",min:"1",max:"50"},null,8,["modelValue"]),Nl]),$("li",null,[s(y,{modelValue:G(i).b,"onUpdate:modelValue":a[4]||(a[4]=e=>G(i).b=e),class:"van-stepper","disable-input":"",min:"1",max:"20"},null,8,["modelValue"]),Wl]),$("li",null,[s(y,{modelValue:G(i).c,"onUpdate:modelValue":a[5]||(a[5]=e=>G(i).c=e),class:"van-stepper","disable-input":"",min:"1",max:"20"},null,8,["modelValue"]),$l]),$("li",null,[s(y,{modelValue:G(i).d,"onUpdate:modelValue":a[6]||(a[6]=e=>G(i).d=e),class:"van-stepper","disable-input":"",min:"1",max:"20"},null,8,["modelValue"]),Gl]),$("li",null,[s(y,{modelValue:G(i).e,"onUpdate:modelValue":a[7]||(a[7]=e=>G(i).e=e),class:"van-stepper","disable-input":"",min:"1",max:"20"},null,8,["modelValue"]),Ml]),$("li",null,[s(y,{modelValue:G(i).f,"onUpdate:modelValue":a[8]||(a[8]=e=>G(i).f=e),class:"van-stepper","disable-input":"",min:"1",max:"20"},null,8,["modelValue"]),El])])),_:1}),s(ne,null,{default:W((()=>[s(b,{modelValue:G(i).area,"onUpdate:modelValue":a[9]||(a[9]=e=>G(i).area=e),modelModifiers:{trim:!0},required:"",maxlength:"20",class:"input",type:"number",label:"每层建筑面积约",placeholder:"请输入","input-align":"right"},{button:W((()=>[Ql])),_:1},8,["modelValue"])])),_:1}),s(ne,{title:"",border:!1},{default:W((()=>[Jl,E("采用方案 ")])),_:1}),s(ne,{padding:"0 0 0.2rem 0"},{default:W((()=>[$("div",null,[s(w,{modelValue:G(i).type,"onUpdate:modelValue":a[10]||(a[10]=e=>G(i).type=e),class:"radio",direction:"horizontal",shape:"dot","checked-color":"#436AE9"},{default:W((()=>[s(k,{name:"1"},{default:W((()=>[E("无线方案")])),_:1}),s(k,{name:"2"},{default:W((()=>[E("PLC有线无线融合方案")])),_:1})])),_:1},8,["modelValue"])])])),_:1}),s(ne,null,{default:W((()=>[s(b,{modelValue:G(l).info_data.profit,"onUpdate:modelValue":a[11]||(a[11]=e=>G(l).info_data.profit=e),modelModifiers:{trim:!0},readonly:"",required:"",maxlength:"20",class:"input",type:"number",label:"报价整体毛利设置",placeholder:"请输入","input-align":"right"},{button:W((()=>[Kl])),_:1},8,["modelValue"])])),_:1}),s(ne,{padding:"0 0 0.2rem 0"},{default:W((()=>[G(n).demand.length?(H(),te(Pl,{key:0,data:G(n).demand,onClick:m},null,8,["data"])):le("",!0)])),_:1}),s(Ol,{onClick:p})])]),G(h)?(H(),N("div",{key:0,class:"button",onClick:f}," 保存 ")):(H(),N("div",ea,[E(" 生成报价中"),s(x,{color:"#FFFFFF",size:"0.2rem",style:{"margin-left":"0.1rem"}})])),s(C,{show:G(n).showPicker,"onUpdate:show":a[13]||(a[13]=e=>G(n).showPicker=e),position:"bottom"},{default:W((()=>[s(V,{columns:G(r),"columns-field-names":d,onConfirm:c,onCancel:a[12]||(a[12]=e=>G(n).showPicker=!1)},null,8,["columns"])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-434da295"]]))}}}));
