System.register(["./index-legacy-a99c9020.js","./index-legacy-72b87ffe.js","./index-legacy-c9ba97df.js","./_plugin-vue_export-helper-legacy-81237f8a.js","./utils-legacy-dc7aece1.js","./login-legacy-ac3a5764.js","./index-legacy-83c576b6.js","./request-legacy-92f25d7d.js","./use-route-legacy-499fde2a.js","./use-id-legacy-6fdeb452.js","./index-legacy-80e98bda.js","./index-legacy-df63af3b.js"],(function(e,l){"use strict";var a,o,s,t,d,i,n,c,r,u,p,m,y,b,g,f,v,h,x,j,_,w,V;return{setters:[e=>{a=e.d,o=e.u,s=e.r,t=e.a,d=e.c,i=e.b,n=e.e,c=e.f,r=e.w,u=e.t,p=e.l,m=e.o,y=e.g,b=e.p,g=e.h},null,e=>{f=e.F},e=>{v=e.N,h=e._},e=>{x=e.i},e=>{j=e.l,_=e.S},e=>{w=e.B},e=>{V=e.s},null,null,null,null],execute:function(){const l={class:"login"},k={class:"main"},q=(e=>(b("data-v-66d78bf8"),e=e(),g(),e))((()=>n("div",{class:"title"}," 欢迎登录 ",-1))),M={class:"label-box"},U={key:0,class:"label-box"},C={key:1,class:"label-box"},S={class:"type"};e("default",h(a({__name:"index",setup(e){const a=o(),b=s({mobile:"",password:"",code:"",type:!0}),g=async()=>{if(!(b.mobile?x(b.mobile)?b.type&&!b.password?(V("请输入密码"),0):b.type||b.code||(V("请输入验证码"),0):(V("手机号格式错误"),0):(V("请输入手机号"),0)))return!1;const e={mobile:b.mobile,code:b.code},l={mobile:b.mobile,password:b.password},o=b.type?"login2":"login",s=b.type?l:e,t=await j[o](s);0===t.code&&(p.set("quotation_token",t.data.token),a.push({path:"/home"}))},h=()=>{b.password="",b.code="",b.type=!b.type};return(e,a)=>{const o=v,s=f,p=t("router-link"),x=w;return m(),d("div",l,[i(o,{class:"nav",title:"在线报价工具",fixed:"",placeholder:"","safe-area-inset-top":""}),n("div",k,[q,n("div",M,[i(s,{modelValue:c(b).mobile,"onUpdate:modelValue":a[0]||(a[0]=e=>c(b).mobile=e),modelModifiers:{trim:!0},maxlength:"11",class:"input",type:"tel",label:"手机号",placeholder:"请输入手机号",clearable:""},null,8,["modelValue"])]),c(b).type?(m(),d("div",U,[i(s,{modelValue:c(b).password,"onUpdate:modelValue":a[1]||(a[1]=e=>c(b).password=e),modelModifiers:{trim:!0},class:"input",type:"password",label:"密码",placeholder:"请输入密码",clearable:""},null,8,["modelValue"])])):(m(),d("div",C,[i(s,{modelValue:c(b).code,"onUpdate:modelValue":a[2]||(a[2]=e=>c(b).code=e),modelModifiers:{trim:!0},maxlength:"4",class:"input",type:"number",label:"验证码",placeholder:"请输入验证码"},{button:r((()=>[i(_,{mobile:c(b).mobile,type:1},null,8,["mobile"])])),_:1},8,["modelValue"])])),n("div",S,[n("div",null,[i(p,{to:{path:"/form",query:{name:"register"}}},{default:r((()=>[y(" 还没有账号，先注册~ ")])),_:1})]),n("div",null,[i(p,{to:{path:"/form",query:{name:"revise"}}},{default:r((()=>[y(" 忘记密码 ")])),_:1})])]),i(x,{class:"button",round:"",type:"primary",size:"large",onClick:g},{default:r((()=>[y(" 登录 ")])),_:1}),n("div",{class:"switch",onClick:h},u(c(b).type?"短信验证码登录":"密码登录"),1)])])}}}),[["__scopeId","data-v-66d78bf8"]]))}}}));
